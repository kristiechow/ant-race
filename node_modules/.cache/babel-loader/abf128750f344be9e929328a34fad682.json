{"ast":null,"code":"import { ADD_ANTS, START_RACE, END_RACE, RECEIVE_CALCULATION, RESET_RACE } from \"./constants\";\nimport { generateAntWinLikelihoodCalculator } from \"../utils/generateAntWinLikelihoodCalculator\";\nexport const addAnts = data => {\n  return {\n    type: ADD_ANTS,\n    payload: data\n  };\n};\nexport const startRace = data => {\n  return {\n    type: START_RACE,\n    payload: data\n  };\n};\nexport const endRace = () => {\n  return {\n    type: END_RACE\n  };\n};\nexport const resetRace = () => {\n  return {\n    type: RESET_RACE\n  };\n};\nexport const receiveCalculation = (index, calculation) => {\n  return {\n    type: RECEIVE_CALCULATION,\n    payload: {\n      index,\n      calculation\n    }\n  };\n};\n\nconst calculating = (state, ant) => {\n  if (ant.calculation > 0) {\n    return false;\n  }\n\n  return true;\n};\n\nconst calculate = ant => {\n  return new Promise(resolve => {\n    resolve(ant);\n  });\n};\n\nconst getCalculation = (ant, index) => dispatch => {\n  const generateCalculation = generateAntWinLikelihoodCalculator();\n  return generateCalculation(ant => {\n    calculate(ant).then(calculation => {\n      dispatch(receiveCalculation(index, calculation));\n      dispatch(endRace());\n    });\n  });\n};\n\nexport const runCalculation = (ant, index) => (dispatch, getState) => {\n  if (calculating(getState(), ant)) {\n    return dispatch(getCalculation(ant, index));\n  }\n};","map":{"version":3,"sources":["/Users/kristie/Desktop/antrace/src/actions/index.js"],"names":["ADD_ANTS","START_RACE","END_RACE","RECEIVE_CALCULATION","RESET_RACE","generateAntWinLikelihoodCalculator","addAnts","data","type","payload","startRace","endRace","resetRace","receiveCalculation","index","calculation","calculating","state","ant","calculate","Promise","resolve","getCalculation","dispatch","generateCalculation","then","runCalculation","getState"],"mappings":"AAAA,SACIA,QADJ,EAEIC,UAFJ,EAGIC,QAHJ,EAIIC,mBAJJ,EAKIC,UALJ,QAMS,aANT;AAOE,SAASC,kCAAT,QAAmD,6CAAnD;AAEA,OAAO,MAAMC,OAAO,GAAIC,IAAD,IAAU;AAC/B,SAAO;AACLC,IAAAA,IAAI,EAAER,QADD;AAELS,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMG,SAAS,GAAIH,IAAD,IAAU;AACjC,SAAO;AACLC,IAAAA,IAAI,EAAEP,UADD;AAELQ,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMI,OAAO,GAAG,MAAM;AAC3B,SAAO;AACLH,IAAAA,IAAI,EAAEN;AADD,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMU,SAAS,GAAG,MAAM;AAC7B,SAAO;AACLJ,IAAAA,IAAI,EAAEJ;AADD,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMS,kBAAkB,GAAG,CAACC,KAAD,EAAQC,WAAR,KAAwB;AACxD,SAAO;AACLP,IAAAA,IAAI,EAAEL,mBADD;AAELM,IAAAA,OAAO,EAAE;AAAEK,MAAAA,KAAF;AAASC,MAAAA;AAAT;AAFJ,GAAP;AAID,CALM;;AAOP,MAAMC,WAAW,GAAG,CAACC,KAAD,EAAQC,GAAR,KAAgB;AAClC,MAAIA,GAAG,CAACH,WAAJ,GAAkB,CAAtB,EAAyB;AACvB,WAAO,KAAP;AACD;;AAED,SAAO,IAAP;AACD,CAND;;AAQA,MAAMI,SAAS,GAAID,GAAD,IAAS;AACzB,SAAO,IAAIE,OAAJ,CAAaC,OAAD,IAAa;AAC9BA,IAAAA,OAAO,CAACH,GAAD,CAAP;AACD,GAFM,CAAP;AAGD,CAJD;;AAMA,MAAMI,cAAc,GAAG,CAACJ,GAAD,EAAMJ,KAAN,KAAiBS,QAAD,IAAc;AACnD,QAAMC,mBAAmB,GAAGnB,kCAAkC,EAA9D;AAEA,SAAOmB,mBAAmB,CAAEN,GAAD,IAAS;AAClCC,IAAAA,SAAS,CAACD,GAAD,CAAT,CAAeO,IAAf,CAAqBV,WAAD,IAAiB;AACnCQ,MAAAA,QAAQ,CAACV,kBAAkB,CAACC,KAAD,EAAQC,WAAR,CAAnB,CAAR;AACAQ,MAAAA,QAAQ,CAACZ,OAAO,EAAR,CAAR;AACD,KAHD;AAID,GALyB,CAA1B;AAMD,CATD;;AAWA,OAAO,MAAMe,cAAc,GAAG,CAACR,GAAD,EAAMJ,KAAN,KAAgB,CAACS,QAAD,EAAWI,QAAX,KAAwB;AACpE,MAAIX,WAAW,CAACW,QAAQ,EAAT,EAAaT,GAAb,CAAf,EAAkC;AAChC,WAAOK,QAAQ,CAACD,cAAc,CAACJ,GAAD,EAAMJ,KAAN,CAAf,CAAf;AACD;AACF,CAJM","sourcesContent":["import {\n    ADD_ANTS,\n    START_RACE,\n    END_RACE,\n    RECEIVE_CALCULATION,\n    RESET_RACE,\n  } from \"./constants\";\n  import { generateAntWinLikelihoodCalculator } from \"../utils/generateAntWinLikelihoodCalculator\";\n  \n  export const addAnts = (data) => {\n    return {\n      type: ADD_ANTS,\n      payload: data,\n    };\n  };\n  \n  export const startRace = (data) => {\n    return {\n      type: START_RACE,\n      payload: data,\n    };\n  };\n  \n  export const endRace = () => {\n    return {\n      type: END_RACE,\n    };\n  };\n  \n  export const resetRace = () => {\n    return {\n      type: RESET_RACE,\n    };\n  };\n  \n  export const receiveCalculation = (index, calculation) => {\n    return {\n      type: RECEIVE_CALCULATION,\n      payload: { index, calculation },\n    };\n  };\n  \n  const calculating = (state, ant) => {\n    if (ant.calculation > 0) {\n      return false;\n    }\n  \n    return true;\n  };\n  \n  const calculate = (ant) => {\n    return new Promise((resolve) => {\n      resolve(ant);\n    });\n  };\n  \n  const getCalculation = (ant, index) => (dispatch) => {\n    const generateCalculation = generateAntWinLikelihoodCalculator();\n  \n    return generateCalculation((ant) => {\n      calculate(ant).then((calculation) => {\n        dispatch(receiveCalculation(index, calculation));\n        dispatch(endRace());\n      });\n    });\n  };\n  \n  export const runCalculation = (ant, index) => (dispatch, getState) => {\n    if (calculating(getState(), ant)) {\n      return dispatch(getCalculation(ant, index));\n    }\n  };\n"]},"metadata":{},"sourceType":"module"}